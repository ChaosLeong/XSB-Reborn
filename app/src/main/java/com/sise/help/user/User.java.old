package com.sise.help.user;

import com.avos.avoscloud.AVObject;

/**
 * @author Chaos
 *         2015/02/22.
 */
public class User {

    private static final String OBJ_NAME = "User";
    private static final String FIELD_USERNAME = "username";
    private static final String FIELD_PASSWORD = "password";
    private static final String FIELD_NICKNAME = "nickname";
    private static final String FIELD_AREA = "area";
    private static final String FIELD_INTRODUCTION = "introduction";
    private static final String FIELD_GENDER = "gender";

    private AVObject userObj;

    private User() {
    }

    public void setAVObject(AVObject avObject) {
        this.userObj = avObject;
    }

    public String getUsername() {
        return get(FIELD_USERNAME);
    }

    public String getPassword() {
        return get(FIELD_PASSWORD);
    }

    public String getNickname() {
        return get(FIELD_NICKNAME);
    }

    public String getIntroduction() {
        return get(FIELD_INTRODUCTION);
    }

    public String getGender() {
        return get(FIELD_GENDER);
    }

    public String getArea() {
        return get(FIELD_AREA);
    }

    private <T> T get(String key) {
        if (userObj == null) {
            return null;
        }
        return (T) userObj.get(key);
    }

    public static class Builder {

        private final AVObject userObj;

        public Builder() {
            this.userObj = new AVObject(OBJ_NAME);
        }

        public Builder setUsername(String username) {
            put(FIELD_USERNAME, username);
            return this;
        }

        public Builder setPassword(String password) {
            put(FIELD_PASSWORD, password);
            return this;
        }

        public Builder setNickname(String nickname) {
            put(FIELD_NICKNAME, nickname);
            return this;
        }

        public Builder setArea(String area) {
            put(FIELD_AREA, area);
            return this;
        }

        public Builder setIntroduction(String introduction) {
            put(FIELD_INTRODUCTION, introduction);
            return this;
        }

        public Builder setGender(String gender) {
            put(FIELD_GENDER, gender);
            return this;
        }

        private void put(String key, Object value) {
            this.userObj.put(key, value);
        }

        public User build() {
            User user = new User();
            user.setAVObject(userObj);
            return user;
        }
    }
}
